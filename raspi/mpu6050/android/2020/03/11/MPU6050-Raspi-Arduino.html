<h1 id="develop-android-app-to-park-a-camper-level">Develop Android app to park a camper level</h1>

<hr />

<p>In the blog <a href="https://tutorials-raspberrypi.de/raspberry-pi-mpu-6050-rotationssensor-webgl-nodejs-server/">Rotationssensor MPU-6050 mit WebGL am Raspberry Pi visualisieren</a></p>
<blockquote>
  <p>Der Raspberry Pi ist zu vielem in der Lage, so können einfach Rotations- und Beschleunigugnswerte mittels eines Sensors, wie dem MPU-6050, ausgelesen werden. Das Ergebnis sind jedoch einfache Zahlen, worunter man sich im Normalfall nicht all zu viel vorstellen wird. Jedoch ist es sehr einfach diese Zahlen zu visualisieren. Dies geht in modernen Browsern ganz einfach mittels WebGL, womit man 2D und 3D Objekte im Browser rendern kann.</p>
</blockquote>

<figure>
  <img src="images/MpuWiringRapsi.png" width="20%" height="20%" class="center" />
  <figcaption>Sensor MPU 6050</figcaption>
</figure>

<h2 id="vnc-remote-access-a-raspberry-pi">VNC: Remote access a Raspberry Pi</h2>

<p>Setting up a VNC connection from phone to the raspi follow the instructions given at</p>

<p>https://magpi.raspberrypi.org/articles/vnc-raspberry-pi</p>

<h2 id="setting-up-a-raspberry-pi-as-a-wireless-access-point">Setting up a Raspberry Pi as a Wireless Access Point</h2>

<p>Setting up the raspi as a wireless access point so that you can use VNC on a camping ground follow instructions given at https://www.raspberrypi.org/documentation/configuration/wireless/access-point.md 
This documentation assumes that we are using the standard 192.168.x.x IP addresses for our wireless network, so we will assign the server the IP address 192.168.4.1.</p>

<p><strong>Note:</strong> Change default in <code class="highlighter-rouge">sudo nano /etc/hostapd/hostapd.conf</code> to something meaningful to you</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssid=NameOfNetwork # change this
hw_mode=g
channel=7
wmm_enabled=0
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0
wpa=2
wpa_passphrase=AardvarkBadgerHedgehog # change this
</code></pre></div></div>

<h2 id="measuring-rotation-and-acceleration-with-the-raspberry-pi">Measuring Rotation and acceleration with the Raspberry Pi</h2>

<p>Follow instructions at <strong>MPU6050 (Accelerometer+Gyroscope) Interfacing with Raspberry Pi</strong> https://www.electronicwings.com/raspberry-pi/mpu6050-accelerometergyroscope-interfacing-with-raspberry-pi</p>

<h2 id="calculate-pitch-and-roll">Calculate pitch and roll</h2>

<p>from <code class="highlighter-rouge">MPU6050_9Axis_MotionApps41.h</code>
```uint8_t MPU6050::dmpGetYawPitchRoll(float <em>data, Quaternion *q, VectorFloat *gravity) {
    // yaw: (about Z axis)
    data[0] = atan2(2</em>q -&gt; x<em>q -&gt; y - 2</em>q -&gt; w<em>q -&gt; z, 2</em>q -&gt; w<em>q -&gt; w + 2</em>q -&gt; x<em>q -&gt; x - 1);
    // pitch: (nose up/down, about Y axis)
    data[1] = atan(gravity -&gt; x / sqrt(gravity -&gt; y</em>gravity -&gt; y + gravity -&gt; z<em>gravity -&gt; z));
    // roll: (tilt left/right, about X axis)
    data[2] = atan(gravity -&gt; y / sqrt(gravity -&gt; x</em>gravity -&gt; x + gravity -&gt; z*gravity -&gt; z));
    return 0;</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The following output 
</code></pre></div></div>
<p>Gyroscope
——–
gyroscope_xout:   -260  scaled:  -2
gyroscope_yout:   -154  scaled:  -2
gyroscope_zout:     78  scaled:  0</p>

<h2 id="accelerometer">Accelerometer</h2>
<p>acceleration_xout:   -1048  scaled:  -0.06396484375
acceleration_yout:    -676  scaled:  -0.041259765625
acceleration_zout:   16644  scaled:  1.01586914062
X Rotation:  -2.32121150537
Y Rotation:  3.59994842011
```</p>

<p>is created by <br />
<a href="http://www.raspberrypirobotics.com/measuring-rotation-and-acceleration-with-the-raspberry-pi/">Measuring Rotation and acceleration with the Raspberry Pi</a></p>

<p>http://www.raspberrypirobotics.com/measuring-rotation-and-acceleration-with-the-raspberry-pi/</p>
